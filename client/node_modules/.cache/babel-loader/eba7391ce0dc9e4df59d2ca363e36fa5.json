{"ast":null,"code":"import _objectSpread from \"/Users/Dillon/Documents/BOOTCAMP_2019/Repository/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/Dillon/Documents/BOOTCAMP_2019/Repository/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Dillon/Documents/BOOTCAMP_2019/Repository/project3/client/src/components/Drum/Drum.js\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport \"./style.css\"; // document.addEventListener('DOMContentLoaded', () => {\n//     // 'use strict';\n//     let buffer = [];\n//     document.addEventListener('keydown', event => {\n//         const charList = 'qweasdzxc';\n//         const key = event.key.toLowerCase();\n//         if (charList.indexOf(key) === -1) return;\n//         buffer.push(key);\n//         console.log(buffer);\n//     });\n//     // document.addEventListener(\"clearBtn\", event => {\n//     //     event.preventDefault()\n//     //     buffer=[]\n//     //     console.log(\"clearBtn\");\n//     // })\n// });\n\nfunction DrumMachine(props) {\n  function useKeyPress(keyInfo, addLetter) {\n    var _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        keyPressed = _useState2[0],\n        setKeyPressed = _useState2[1];\n\n    function downHandler(_ref) {\n      var key = _ref.key;\n      console.log(key, keyInfo.letter);\n\n      if (key === keyInfo.letter.toLowerCase()) {\n        setKeyPressed(false);\n        addLetter(keyInfo, props.lettersPressed);\n        setTimeout(function () {\n          return setKeyPressed(true);\n        }, 10);\n        keyInfo.playSound();\n      }\n    }\n\n    useEffect(function () {\n      window.addEventListener('keydown', downHandler);\n      return function () {\n        window.removeEventListener('keydown', downHandler);\n      };\n    }, []);\n    return [keyPressed, setKeyPressed];\n  }\n\n  var _useKeyPress = useKeyPress(_objectSpread({}, props, {\n    audio: props.audioRef,\n    playSound: props.playSound\n  }), props.addLetter),\n      _useKeyPress2 = _slicedToArray(_useKeyPress, 2),\n      keyPressed = _useKeyPress2[0],\n      setKeyPressed = _useKeyPress2[1];\n\n  var handleClick = function handleClick() {\n    setKeyPressed(false);\n    props.addLetter(_objectSpread({}, props, {\n      audio: props.audioRef,\n      playSound: props.playSound\n    }), props.lettersPressed);\n    setTimeout(function () {\n      return setKeyPressed(true);\n    }, 10);\n    props.playSound();\n  };\n\n  return React.createElement(\"div\", {\n    className: \"drum-machine\" + (keyPressed ? \" drum-animation\" : \"\"),\n    id: props.id,\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, props.letter), React.createElement(\"audio\", {\n    ref: props.audioRef,\n    className: \"clip\",\n    src: props.src,\n    id: props.letter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }));\n}\n\n;\nexport default DrumMachine;","map":{"version":3,"sources":["/Users/Dillon/Documents/BOOTCAMP_2019/Repository/project3/client/src/components/Drum/Drum.js"],"names":["React","useEffect","useState","useRef","DrumMachine","props","useKeyPress","keyInfo","addLetter","keyPressed","setKeyPressed","downHandler","key","console","log","letter","toLowerCase","lettersPressed","setTimeout","playSound","window","addEventListener","removeEventListener","audio","audioRef","handleClick","id","src"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAO,aAAP,C,CAKA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,SAASC,WAAT,CAAsBC,KAAtB,EAA6B;AACzB,WAASC,WAAT,CAAqBC,OAArB,EAA8BC,SAA9B,EAAwC;AAAA,oBACCN,QAAQ,CAAE,KAAF,CADT;AAAA;AAAA,QAC7BO,UAD6B;AAAA,QACjBC,aADiB;;AAGpC,aAASC,WAAT,OAA8B;AAAA,UAAPC,GAAO,QAAPA,GAAO;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAAiBL,OAAO,CAACQ,MAAzB;;AACA,UAAIH,GAAG,KAAKL,OAAO,CAACQ,MAAR,CAAeC,WAAf,EAAZ,EAA0C;AACtCN,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAF,QAAAA,SAAS,CAACD,OAAD,EAAUF,KAAK,CAACY,cAAhB,CAAT;AACAC,QAAAA,UAAU,CAAC;AAAA,iBAAMR,aAAa,CAAC,IAAD,CAAnB;AAAA,SAAD,EAA4B,EAA5B,CAAV;AACFH,QAAAA,OAAO,CAACY,SAAR;AACD;AACF;;AAEDlB,IAAAA,SAAS,CAAC,YAAM;AACdmB,MAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCV,WAAnC;AACA,aAAO,YAAM;AACXS,QAAAA,MAAM,CAACE,mBAAP,CAA2B,SAA3B,EAAsCX,WAAtC;AACD,OAFD;AAGD,KALQ,EAKN,EALM,CAAT;AAMA,WAAO,CAACF,UAAD,EAAaC,aAAb,CAAP;AACL;;AArBwB,qBAsBWJ,WAAW,mBACxCD,KADwC;AAE3CkB,IAAAA,KAAK,EAAElB,KAAK,CAACmB,QAF8B;AAG3CL,IAAAA,SAAS,EAAEd,KAAK,CAACc;AAH0B,MAI5Cd,KAAK,CAACG,SAJsC,CAtBtB;AAAA;AAAA,MAsBlBC,UAtBkB;AAAA,MAsBNC,aAtBM;;AA2BzB,MAAMe,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtBf,IAAAA,aAAa,CAAC,KAAD,CAAb;AACAL,IAAAA,KAAK,CAACG,SAAN,mBACOH,KADP;AAEIkB,MAAAA,KAAK,EAAElB,KAAK,CAACmB,QAFjB;AAGIL,MAAAA,SAAS,EAAEd,KAAK,CAACc;AAHrB,QAIGd,KAAK,CAACY,cAJT;AAKAC,IAAAA,UAAU,CAAC;AAAA,aAAMR,aAAa,CAAC,IAAD,CAAnB;AAAA,KAAD,EAA4B,EAA5B,CAAV;AACAL,IAAAA,KAAK,CAACc,SAAN;AACH,GATD;;AAWI,SACI;AAAK,IAAA,SAAS,EAAE,kBAAkBV,UAAU,GAAG,iBAAH,GAAuB,EAAnD,CAAhB;AACI,IAAA,EAAE,EAAEJ,KAAK,CAACqB,EADd;AAEI,IAAA,OAAO,EAAED,WAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKpB,KAAK,CAACU,MAAX,CAJJ,EAKI;AACI,IAAA,GAAG,EAAEV,KAAK,CAACmB,QADf;AAEI,IAAA,SAAS,EAAC,MAFd;AAGI,IAAA,GAAG,EAAEnB,KAAK,CAACsB,GAHf;AAII,IAAA,EAAE,EAAEtB,KAAK,CAACU,MAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CADJ;AAcP;;AAAA;AAED,eAAeX,WAAf","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport \"./style.css\";\n\n\n\n\n// document.addEventListener('DOMContentLoaded', () => {\n//     // 'use strict';\n\n//     let buffer = [];\n\n//     document.addEventListener('keydown', event => {\n//         const charList = 'qweasdzxc';\n//         const key = event.key.toLowerCase();\n\n//         if (charList.indexOf(key) === -1) return;\n\n//         buffer.push(key);\n\n//         console.log(buffer);\n//     });\n//     // document.addEventListener(\"clearBtn\", event => {\n//     //     event.preventDefault()\n//     //     buffer=[]\n//     //     console.log(\"clearBtn\");\n//     // })\n// });\n\n\n\nfunction DrumMachine (props) {\n    function useKeyPress(keyInfo, addLetter){\n        const [keyPressed, setKeyPressed ] = useState (false)\n        \n        function downHandler({ key }) {\n            console.log(key, keyInfo.letter);\n            if (key === keyInfo.letter.toLowerCase()) {\n                setKeyPressed(false);\n                addLetter(keyInfo, props.lettersPressed);\n                setTimeout(() => setKeyPressed(true), 10);\n              keyInfo.playSound()\n            }\n          }\n        \n          useEffect(() => {\n            window.addEventListener('keydown', downHandler);\n            return () => {\n              window.removeEventListener('keydown', downHandler);\n            };\n          }, []);\n          return [keyPressed, setKeyPressed];\n    }\n    const [keyPressed, setKeyPressed] = useKeyPress({\n        ...props,\n        audio: props.audioRef,\n        playSound: props.playSound\n    }, props.addLetter)\n    const handleClick = () => {\n        setKeyPressed(false);\n        props.addLetter({\n            ...props,\n            audio: props.audioRef,\n            playSound: props.playSound\n        }, props.lettersPressed);\n        setTimeout(() => setKeyPressed(true), 10);\n        props.playSound()\n    }\n\n        return (\n            <div className={\"drum-machine\" + (keyPressed ? \" drum-animation\" : \"\")}\n                id={props.id}\n                onClick={handleClick}\n            >\n                <h4>{props.letter}</h4>\n                <audio\n                    ref={props.audioRef}\n                    className=\"clip\"\n                    src={props.src}\n                    id={props.letter}>\n                </audio>\n            </div>\n        )\n};\n\nexport default DrumMachine;\n\n"]},"metadata":{},"sourceType":"module"}