{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Dillon/Documents/BOOTCAMP_2019/Repository/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Dillon/Documents/BOOTCAMP_2019/Repository/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/Dillon/Documents/BOOTCAMP_2019/Repository/project3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Dillon/Documents/BOOTCAMP_2019/Repository/project3/client/src/pages/Beat/List/BeatList.jsx\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Spinner from 'react-bootstrap/Spinner';\nimport User from '../../../utils/Stores/User';\nimport Beat from '../../../utils/Stores/Beat';\nimport { BeatCard } from '../../../components/Beat';\nimport API from \"../../../utils/Stores/Beat/BeatsAPI\";\nexport default function () {\n  User.refreshOnLoad(); // every time the user hits the jams page we will reload beats.\n\n  Beat.refreshOnLoad();\n\n  var _Beat$useContext = Beat.useContext(),\n      _Beat$useContext2 = _slicedToArray(_Beat$useContext, 1),\n      _Beat$useContext2$ = _Beat$useContext2[0],\n      beats = _Beat$useContext2$.beats,\n      pageLoading = _Beat$useContext2$.pageLoading;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      beat = _useState2[0],\n      setBeats = _useState2[1];\n\n  useEffect(function () {\n    loadBeats();\n  }, []);\n\n  function loadBeats() {\n    return _loadBeats.apply(this, arguments);\n  }\n\n  function _loadBeats() {\n    _loadBeats = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _ref, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return API.getBeats();\n\n            case 2:\n              _ref = _context.sent;\n              data = _ref.data;\n              setBeats(data);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _loadBeats.apply(this, arguments);\n  }\n\n  return pageLoading ? React.createElement(\"div\", {\n    className: \"d-flex justify-content-center mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(Spinner, {\n    className: \"mt-5\",\n    animation: \"border\",\n    role: \"status\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Loading...\"))) : React.createElement(Container, {\n    className: \"mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, beats.map(function (beat) {\n    return React.createElement(Col, {\n      xs: 12,\n      md: 6,\n      lg: 4,\n      xl: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(BeatCard, Object.assign({}, beat, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    })));\n  })));\n}","map":{"version":3,"sources":["/Users/Dillon/Documents/BOOTCAMP_2019/Repository/project3/client/src/pages/Beat/List/BeatList.jsx"],"names":["React","useState","useEffect","useContext","Container","Row","Col","Spinner","User","Beat","BeatCard","API","refreshOnLoad","beats","pageLoading","beat","setBeats","loadBeats","getBeats","data","map"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,SAASC,QAAT,QAAyB,0BAAzB;AACA,OAAOC,GAAP,MAAgB,qCAAhB;AAGA,eAAe,YAAY;AACvBH,EAAAA,IAAI,CAACI,aAAL,GADuB,CAEvB;;AACAH,EAAAA,IAAI,CAACG,aAAL;;AAHuB,yBAIQH,IAAI,CAACN,UAAL,EAJR;AAAA;AAAA;AAAA,MAIfU,KAJe,sBAIfA,KAJe;AAAA,MAIRC,WAJQ,sBAIRA,WAJQ;;AAAA,kBAKEb,QAAQ,EALV;AAAA;AAAA,MAKhBc,IALgB;AAAA,MAKVC,QALU;;AAQvBd,EAAAA,SAAS,CAAC,YAAM;AACZe,IAAAA,SAAS;AACZ,GAFQ,EAEN,EAFM,CAAT;;AARuB,WAYRA,SAZQ;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,6BAYvB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAC2BN,GAAG,CAACO,QAAJ,EAD3B;;AAAA;AAAA;AACYC,cAAAA,IADZ,QACYA,IADZ;AAEIH,cAAAA,QAAQ,CAACG,IAAD,CAAR;;AAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAZuB;AAAA;AAAA;;AAiBvB,SAAOL,WAAW,GACV;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAC,MAAnB;AAA0B,IAAA,SAAS,EAAC,QAApC;AAA6C,IAAA,IAAI,EAAC,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CADJ,CADU,GAOd,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKD,KAAK,CAACO,GAAN,CAAU,UAAAL,IAAI;AAAA,WACf,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAa,MAAA,EAAE,EAAE,CAAjB;AAAoB,MAAA,EAAE,EAAE,CAAxB;AAA2B,MAAA,EAAE,EAAE,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,QAAD,oBAAcA,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ,CADe;AAAA,GAAd,CADL,CADJ,CAPJ;AAiBH","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Spinner from 'react-bootstrap/Spinner';\nimport User from '../../../utils/Stores/User';\nimport Beat from '../../../utils/Stores/Beat';\nimport { BeatCard } from '../../../components/Beat';\nimport API from \"../../../utils/Stores/Beat/BeatsAPI\";\n\n\nexport default function () {\n    User.refreshOnLoad();\n    // every time the user hits the jams page we will reload beats.\n    Beat.refreshOnLoad();\n    const [{beats, pageLoading}] = Beat.useContext();\n    const [beat, setBeats] = useState();\n\n\n    useEffect(() => {\n        loadBeats();\n    }, []);\n\n    async function loadBeats() {\n        const { data } = await API.getBeats();\n        setBeats(data);\n    }\n\n    return pageLoading ? (\n            <div className=\"d-flex justify-content-center mt-5\">\n                <Spinner className=\"mt-5\" animation=\"border\" role=\"status\">\n                    <span className=\"sr-only\">Loading...</span>\n                </Spinner>\n            </div>\n        ) : (\n        <Container className=\"mt-5\">\n            <Row>\n                {beats.map(beat =>\n                <Col xs={12} md={6} lg={4} xl={3}>\n                    <BeatCard {...beat} />\n                </Col>\n                )}\n            </Row>\n        </Container>\n        );\n}"]},"metadata":{},"sourceType":"module"}